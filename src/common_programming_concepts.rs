pub mod variables {
    pub const HEARTBEAT_127: i8 = 127;

    // å˜é‡é»˜è®¤æ˜¯ä¸å¯æ”¹å˜çš„ï¼ˆimmutableï¼‰
    pub fn var() {
        let mut x = 5;
        println!("The value of x is: {}", x);
        x = 6;
        println!("The value of x is: {}", x);
        // Rust å¸¸é‡çš„å‘½åè§„èŒƒæ˜¯ä½¿ç”¨ä¸‹åˆ’çº¿åˆ†éš”çš„å¤§å†™å­—æ¯å•è¯ï¼Œå¹¶ä¸”å¯ä»¥åœ¨æ•°å­—å­—é¢å€¼ä¸­æ’å…¥ä¸‹åˆ’çº¿æ¥æå‡å¯è¯»æ€§
        // åœ¨å£°æ˜Žå®ƒçš„ä½œç”¨åŸŸä¹‹ä¸­ï¼Œå¸¸é‡åœ¨æ•´ä¸ªç¨‹åºç”Ÿå‘½å‘¨æœŸä¸­éƒ½æœ‰æ•ˆï¼Œè¿™ä½¿å¾—å¸¸é‡å¯ä»¥ä½œä¸ºå¤šå¤„ä»£ç ä½¿ç”¨çš„å…¨å±€èŒƒå›´çš„å€¼
        const Y: i32 = 100;
        println!("const value of y is : {}", Y);

        println!("heartbeat is {}", HEARTBEAT_127);
    }

    pub fn shadowing() {
        // æˆ‘ä»¬å¯ä»¥å®šä¹‰ä¸€ä¸ªä¸Žä¹‹å‰å˜é‡åŒåçš„æ–°å˜é‡ï¼Œè€Œæ–°å˜é‡ä¼š éšè— ä¹‹å‰çš„å˜é‡ã€‚
        // Rustacean ä»¬ç§°ä¹‹ä¸ºç¬¬ä¸€ä¸ªå˜é‡è¢«ç¬¬äºŒä¸ª éšè— äº†ï¼Œè¿™æ„å‘³ç€ä½¿ç”¨è¿™ä¸ªå˜é‡æ—¶ä¼šçœ‹åˆ°ç¬¬äºŒä¸ªå€¼ã€‚
        // å¯ä»¥ç”¨ç›¸åŒå˜é‡åç§°æ¥éšè—ä¸€ä¸ªå˜é‡ï¼Œä»¥åŠé‡å¤ä½¿ç”¨ let å…³é”®å­—æ¥å¤šæ¬¡éšè—
        // ä¸Ž mut çš„åŒºåˆ«ï¼š
        // é€šè¿‡ä½¿ç”¨ letï¼Œæˆ‘ä»¬å¯ä»¥ç”¨è¿™ä¸ªå€¼è¿›è¡Œä¸€äº›è®¡ç®—ï¼Œä¸è¿‡è®¡ç®—å®Œä¹‹åŽå˜é‡ä»ç„¶æ˜¯ä¸å˜çš„ã€‚
        // mut ä¸Žéšè—çš„å¦ä¸€ä¸ªåŒºåˆ«æ˜¯ï¼Œå½“å†æ¬¡ä½¿ç”¨ let æ—¶ï¼Œå®žé™…ä¸Šåˆ›å»ºäº†ä¸€ä¸ªæ–°å˜é‡ï¼Œæˆ‘ä»¬å¯ä»¥æ”¹å˜å€¼çš„ç±»åž‹ï¼Œä½†å¤ç”¨è¿™ä¸ªåå­—ã€‚
        let x = 2;
        let x = x + 2;
        let x = x * 2;
        println!("shadowing x is {}", x);

        let space = "     ";
        let space = space.len();

        println!("space len is {}", space);
    }
}

pub mod data_types {
    #![allow(unused)]

    pub fn statically_typed() {
        let guess: u32 = "42".parse().expect("Not a number!");
        println!("guess is {}", guess);

        let guess: f32 = "4.2".parse().expect("Not a number!");
        println!("guess is {}", guess);
    }

    // æ ‡é‡
    // æ ‡é‡ï¼ˆscalarï¼‰ç±»åž‹ä»£è¡¨ä¸€ä¸ªå•ç‹¬çš„å€¼ã€‚Rust æœ‰å››ç§åŸºæœ¬çš„æ ‡é‡ç±»åž‹ï¼šæ•´åž‹ã€æµ®ç‚¹åž‹ã€å¸ƒå°”ç±»åž‹å’Œå­—ç¬¦ç±»åž‹ã€‚
    pub fn scalar() {
        // å…è®¸ä½¿ç”¨ _ åšä¸ºåˆ†éš”ç¬¦ä»¥æ–¹ä¾¿è¯»æ•°ï¼Œä¾‹å¦‚1_000ã€‚

        // æ•´æ•°å­—é¢å€¼
        // Decimal (åè¿›åˆ¶)	98_222
        // Hex (åå…­è¿›åˆ¶)	0xff
        // Octal (å…«è¿›åˆ¶)	0o77
        // Binary (äºŒè¿›åˆ¶)	0b1111_0000
        // Byte (å•å­—èŠ‚å­—ç¬¦)(ä»…é™äºŽu8)	b'A'

        let num: u32 = 98_222;
        println!("num is {}", num);

        let char = b'A';
        let char2 = 'a';
        println!("char A is {}, char2 a is {}", char, char2);

        let f1 = 3.0;
        let f2: f32 = 6.3;
        println!("float f1 is {}, f2 a is {}", f1, f2);

        // åŠ æ³•
        let sum = 5 + 10;
        println!("sum is {}", sum);

        // å‡æ³•
        let difference = 95.5 - 4.3;
        println!("difference is {}", difference);

        // ä¹˜æ³•
        let product = 4 * 30;
        println!("product is {}", product);

        // é™¤æ³•
        let quotient = 56.7 / 32.2;
        println!("quotient is {}", quotient);

        // å–ä½™
        let remainder = 43 % 5;
        println!("remainder is {}", remainder);

        let t = true;
        println!("bool is {}", t);

        let f: bool = false; // æ˜¾å¼æŒ‡å®šç±»åž‹æ³¨è§£
        println!("bool f is {}", f);

        // å­—ç¬¦ç±»åž‹
        // Rust çš„ char ç±»åž‹çš„å¤§å°ä¸ºå››ä¸ªå­—èŠ‚(four bytes)ï¼Œ
        // å¹¶ä»£è¡¨äº†ä¸€ä¸ª Unicode æ ‡é‡å€¼ï¼ˆUnicode Scalar Valueï¼‰ï¼Œ
        // è¿™æ„å‘³ç€å®ƒå¯ä»¥æ¯” ASCII è¡¨ç¤ºæ›´å¤šå†…å®¹ã€‚
        let c = 'z';
        let z = 'â„¤';
        let heart_eyed_cat = 'ðŸ˜»';
        println!("char c is {}, z is {}, heart_eyed_cat is {}", c, z, heart_eyed_cat);
    }

    // å¤åˆç±»åž‹
    // Rust æœ‰ä¸¤ä¸ªåŽŸç”Ÿçš„å¤åˆç±»åž‹ï¼šå…ƒç»„ï¼ˆtupleï¼‰å’Œæ•°ç»„ï¼ˆarrayï¼‰ã€‚
    pub fn compound_types() {
        // å…ƒç»„æ˜¯ä¸€ä¸ªå°†å¤šä¸ªå…¶ä»–ç±»åž‹çš„å€¼ç»„åˆè¿›ä¸€ä¸ªå¤åˆç±»åž‹çš„ä¸»è¦æ–¹å¼ã€‚
        // å…ƒç»„é•¿åº¦å›ºå®šï¼šä¸€æ—¦å£°æ˜Žï¼Œå…¶é•¿åº¦ä¸ä¼šå¢žå¤§æˆ–ç¼©å°ã€‚
        let tup: (i32, char, f64) = (50, 'ðŸˆ', 90.0);

        // tup å˜é‡ç»‘å®šåˆ°æ•´ä¸ªå…ƒç»„ä¸Šï¼Œå› ä¸ºå…ƒç»„æ˜¯ä¸€ä¸ªå•ç‹¬çš„å¤åˆå…ƒç´ ã€‚
        // ä¸ºäº†ä»Žå…ƒç»„ä¸­èŽ·å–å•ä¸ªå€¼ï¼Œå¯ä»¥ä½¿ç”¨æ¨¡å¼åŒ¹é…ï¼ˆpattern matchingï¼‰æ¥è§£æž„ï¼ˆdestructureï¼‰å…ƒç»„å€¼ï¼Œ
        let (x, y, z) = tup; // è§£æž„ï¼ˆdestructuring
        println!("tuple x is {}, y is {}, z is {}", x, y, z);

        // ä½¿ç”¨ç‚¹å·ï¼ˆ.ï¼‰åŽè·Ÿå€¼çš„ç´¢å¼•æ¥ç›´æŽ¥è®¿é—®å®ƒä»¬ã€‚
        // å…ƒç»„çš„ç¬¬ä¸€ä¸ªç´¢å¼•å€¼æ˜¯ 0ã€‚
        println!("tuple tup 0 is {}, tup 1 is {}, tup 2 is {}", tup.0, tup.1, tup.2);


        // array
        // ä¸Žå…ƒç»„ä¸åŒï¼Œæ•°ç»„ä¸­çš„æ¯ä¸ªå…ƒç´ çš„ç±»åž‹å¿…é¡»ç›¸åŒã€‚
        //  Rust ä¸­çš„æ•°ç»„æ˜¯å›ºå®šé•¿åº¦çš„ï¼šä¸€æ—¦å£°æ˜Žï¼Œå®ƒä»¬çš„é•¿åº¦ä¸èƒ½å¢žé•¿æˆ–ç¼©å°ã€‚
        // rust çš„æ•°ç»„ä¹Ÿæ˜¯åœ¨æ ˆä¸Šçš„
        let a = [1, 2, 3, 4, 5];

        let months = ["January", "February", "March", "April", "May", "June", "July",
            "August", "September", "October", "November", "December"];


        // å¯ä»¥åƒè¿™æ ·ç¼–å†™æ•°ç»„çš„ç±»åž‹ï¼šåœ¨æ–¹æ‹¬å·ä¸­åŒ…å«æ¯ä¸ªå…ƒç´ çš„ç±»åž‹ï¼ŒåŽè·Ÿåˆ†å·ï¼Œå†åŽè·Ÿæ•°ç»„å…ƒç´ çš„æ•°é‡ã€‚
        let atype: [u128; 5] = [1, 2, 3, 4, 5];

        // åˆå§‹åŒ–æ•°ç»„çš„å¦ä¸€ç§è¯­æ³•ï¼š
        //  å¦‚æžœè¦ä¸ºæ¯ä¸ªå…ƒç´ åˆ›å»ºåŒ…å«ç›¸åŒå€¼çš„æ•°ç»„ï¼Œ
        //  å¯ä»¥æŒ‡å®šåˆå§‹å€¼ï¼ŒåŽè·Ÿåˆ†å·ï¼Œç„¶åŽåœ¨æ–¹æ‹¬å·ä¸­æŒ‡å®šæ•°ç»„çš„é•¿åº¦
        let btype = [3; 5];  // ä¸Ž let btype = [3,3,3,3,3]; ç­‰æ•ˆ
    }
}


// å‡½æ•°
// rustçš„å‡½æ•°å’Œå˜é‡åéƒ½æ˜¯ snake case è§„èŒƒé£Žæ ¼
// åœ¨ snake case ä¸­ï¼Œæ‰€æœ‰å­—æ¯éƒ½æ˜¯å°å†™å¹¶ä½¿ç”¨ä¸‹åˆ’çº¿åˆ†éš”å•è¯ã€‚
pub mod functions_work {
    pub  fn this_is_function(){
        println!("this is function");
    }
    pub fn func_parameters(x: i32, y: i32) {
        println!("The value of x is: {}", x);
        println!("The value of y is: {}", y);
    }

    // è¯­å¥å’Œè¡¨è¾¾å¼
    // å‡½æ•°ä½“ç”±ä¸€ç³»åˆ—çš„è¯­å¥å’Œä¸€ä¸ªå¯é€‰çš„ç»“å°¾è¡¨è¾¾å¼æž„æˆã€‚
    // Rust æ˜¯ä¸€é—¨åŸºäºŽè¡¨è¾¾å¼ï¼ˆexpression-basedï¼‰çš„è¯­è¨€
    // è¯­å¥ï¼ˆStatementsï¼‰æ˜¯æ‰§è¡Œä¸€äº›æ“ä½œä½†ä¸è¿”å›žå€¼çš„æŒ‡ä»¤ã€‚
    // è¡¨è¾¾å¼ï¼ˆExpressionsï¼‰è®¡ç®—å¹¶äº§ç”Ÿä¸€ä¸ªå€¼ã€‚

    // å‡½æ•°å®šä¹‰ä¹Ÿæ˜¯è¯­å¥
    // è¯­å¥ä¸è¿”å›žå€¼ã€‚
    // å› æ­¤ï¼Œä¸èƒ½æŠŠ let è¯­å¥èµ‹å€¼ç»™å¦ä¸€ä¸ªå˜é‡
    pub fn statements_expressions(){
        let y = 6;     // ä¸€ä¸ªè¯­å¥
        // let z = (let zz = 8);

        // è¡¨è¾¾å¼ä¼šè®¡ç®—å‡ºä¸€äº›å€¼
        // è€ƒè™‘ä¸€ä¸ªç®€å•çš„æ•°å­¦è¿ç®—ï¼Œæ¯”å¦‚ 5 + 6ï¼Œè¿™æ˜¯ä¸€ä¸ªè¡¨è¾¾å¼å¹¶è®¡ç®—å‡ºå€¼ 11ã€‚
        // è¡¨è¾¾å¼å¯ä»¥æ˜¯è¯­å¥çš„ä¸€éƒ¨åˆ†ï¼šåœ¨ç¤ºä¾‹ 3-1 ä¸­ï¼Œè¯­å¥ let y = 6; ä¸­çš„ 6 æ˜¯ä¸€ä¸ªè¡¨è¾¾å¼ï¼Œå®ƒè®¡ç®—å‡ºçš„å€¼æ˜¯ 6ã€‚
        // æˆ‘ä»¬ç”¨æ¥åˆ›å»ºæ–°ä½œç”¨åŸŸçš„å¤§æ‹¬å·ï¼ˆä»£ç å—ï¼‰ï¼Œ{}ï¼Œä¹Ÿæ˜¯ä¸€ä¸ªè¡¨è¾¾å¼
        // å‡½æ•°è°ƒç”¨æ˜¯ä¸€ä¸ªè¡¨è¾¾å¼ã€‚å®è°ƒç”¨æ˜¯ä¸€ä¸ªè¡¨è¾¾å¼ã€‚
        let aa = {
            // æ³¨æ„ç»“å°¾æ²¡æœ‰åˆ†å·çš„é‚£ä¸€è¡Œ x+1ï¼Œä¸Žä½ è§è¿‡çš„å¤§éƒ¨åˆ†ä»£ç è¡Œä¸åŒã€‚
            // è¡¨è¾¾å¼çš„ç»“å°¾æ²¡æœ‰åˆ†å·ã€‚
            // å¦‚æžœåœ¨è¡¨è¾¾å¼çš„ç»“å°¾åŠ ä¸Šåˆ†å·ï¼Œå®ƒå°±å˜æˆäº†è¯­å¥ï¼Œè€Œè¯­å¥ä¸ä¼šè¿”å›žå€¼ã€‚
            let y = 10;
            y+9
        };
        println!("expression aa {}", aa);
        println!("expression y {}", y)

    }

    // å‡½æ•°å¯ä»¥å‘è°ƒç”¨å®ƒçš„ä»£ç è¿”å›žå€¼ã€‚
    // æˆ‘ä»¬å¹¶ä¸å¯¹è¿”å›žå€¼å‘½åï¼Œä½†è¦åœ¨ç®­å¤´ï¼ˆ->ï¼‰åŽå£°æ˜Žå®ƒçš„ç±»åž‹ã€‚
    // åœ¨ Rust ä¸­ï¼Œå‡½æ•°çš„è¿”å›žå€¼ç­‰åŒäºŽå‡½æ•°ä½“æœ€åŽä¸€ä¸ªè¡¨è¾¾å¼çš„å€¼ã€‚
    pub fn return_value() -> i32 {
        5
    }
}